<img src="/Tracking_Time/2_Feb/250206.png">

|    단어    |                              뜻                              |                                                                                    비고                                                                                     |
|:--------:|:-----------------------------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
|   동시성    | 한 CPU 내에서 여러 프로세스나 스레드를 번갈아가면서 실행하여 동시에 실행되는 것 처럼 보이게 하는 기술 |                동시성을 위해 스케쥴러로 프로세스나 스레드의 CPU 점유 순서를 정하고, CPU에서 작업을 교체하는 행위를 컨텍스트 스위칭이라고 한다.<br/>효율적인 시스템 자원 사용과 사용자 경험에 핵심적인 역할을 한다.(특히 I/O작업이 많을 경우 더욱 유용)                |
|   병렬성    |    여러 CPU를 통해 프로세스나 스레드를 병렬적으로 실행하여 물리적으로 동시에 실행되게 하는 기술    |                                                여러 CPU 코어에 독립적인 단위로 분할한 작업을 할당하고 물리적으로 동시에 실행함<br/>실시간 처리나 대규모 데이터 처리에 유용함                                                 |
|   스케쥴러   |     CPU나 기타 자원의 효율적 분배를 위해 프로세스나 스레드 등의 작업의 순서를 관리하는 역할     |                                                                 시스템 자원을 적절히 분배하고 성능과 안정성을 최적화하기 위해 필수이다.                                                                  |
|  라운드로빈   |     시계열 스케쥴링의 일종으로, 대기큐에 들어온 순으로 단위시간동안 실행시키는 스케쥴링 알고리즘     |                                                                                                                                                                           |
| 컨텍스트 스위칭 |       동시성 처리나 스케쥴링 같이 한 작업의 진행결과를 저장하고 다른 작업을 실행하는 과정       | 스케쥴링 알고리즘으로 인해 너무 많은 컨텍스트 스위칭이 발생하면 오버헤드가 발생하여 성능저하로 이어진다.<br/>오버헤드란 기존 작업에 소모되는 자원 외 안정화, 스케쥴링 등으로 인해 추가 소모되는 자원을 의미한다.<br/>예를 들어 10ms 걸릴 작업을 15ms에 끝낸다면 오버헤드가 5ms인 것이다. |
|   스레드풀   |                 미리 일정 개수의 스레드를 생성하여 관리하는 기법                 |                                                 생성된 스레드들은 작업을 할당받기 위해 대기 상태로 있음.<br/>작업이 발생하면 대기중인 스레드 중 하나를 선택하여 작업을 수행                                                  |
|  암달의 법칙  |  컴퓨터 시스템의 어느정도를 개선했을 때 전체적으로 얼마만큼의 최대 성능 향상이 있었는지 계산하는데 사용  |                                               SpeedUp = 1/[(1-P) + (P+S)]<br/>P = 전체 시스템 중 개선한 비율, S = 개선된 부분에 대한 성능 향상 비율                                                |

### 멀티쓰레드 환경에서 동시성과 병렬성
멀티쓰레드란? : 하나의 프로세스를 다수의 스레드로 나누어 자원을 공유하고(힙, 메서드영역 공유 / 스택영역만 개별로 가짐) 자원의 생성과 중복을 최소화하여 수행능력을 향상시키는 것
* 이미 공유하고 있는 자원이 있기 때문에 다수의 스레드의 컨텍스트 스위칭은 다수의 프로세스의 컨텍스트 스위칭보다 오버헤드가 덜 발생한다.
* 하지만 공유하는 자원에 대한 동기화가 필요하다. 이걸 잘 못해서 생기는 문제가 동시성 문제이다.
* 동기화를 통해 작업 처리 순서를 컨트롤하고 점유하고 있는 자원에 락을 걸어서 접근을 통제한다.
  * 락으로 인해 병목현상이 발생할 수 있다.(메서드의 코드블럭이 통째로 락이 걸려 스레드가 필요한 로직에 접근하지 못하는 현상)
* CPU 하나당 동시에 실행할 수 있는 쓰레드의 수가 있는데 그 이내의 쓰레드면 병렬성 처리를 하고 그보다 더 많은 수의 쓰레드가 생성되면 컨텍스트 스위칭을 통해 동시성으로 처리한다.

### 콘보이 현상과 기아 현상, 그리고 이를 해결하기 위한 라운드 로빈 알고리즘
작업들이 스케쥴러에 의해 메모리에 적재되고 실행되는데, 효율적이지 못한 알고리즘이라면 다음과 같은 현상이 발생한다.
* 콘보이 현상 : 작업시간이 긴 프로세스를 처리하느라 평균 대기시간, 평균 실행시간이 길어지는 현상
  * 예를 들어, 작업시간이 10, 5, 1인 작업이 각각 존재한다고 치자(단위 : ms)
  * 만약 10 ➡️ 5 ➡️ 1 순서로 작업한다면 대기시간/실행시간은 각각 0/10, 10/15, 15/16이고, 평균 대기시간은 8.3, 평균 실행시간은 13.6이다.
  * 만약 5 ➡️ 10 ➡️ 1 순서로 작업한다면 대기시간/실행시간은 각각 0/5, 5/15, 15/16이고, 평균 대기시간은 6.6, 평균 실행시간은 12이다.
  * 이처럼 긴 대기시간의 작업이 먼저 실행된다면 평균 대기시간과 실행시간이 길어져 비효율적으로 작업들이 처리되는 현상을 콘보이현상이라고 한다.


* 기아 현상 : 작업시간이 짧은 프로세스가 계속 우선순위로 들어감으로서 작업시간이 긴 프로세스가 실행이 계속 안되는 현상
  * 예를 들어 작업시간이 1, 3, 10인 프로세스가 각각 있다고 치자.
  * 작업시간이 1인 프로세스가 먼저 실행되는 중에, 작업시간이 2인 프로세스가 새로 큐에 들어오면, 새로운 프로세스가 기존 프로세스보다 먼저 작업에 들어가게 된다.
  * 극단적으로 이런 현상이 반복되어 작업시간이 10 미만인 프로세스가 계속 들어온다면 세번재 프로세스는 영원히 실행될 수 없다.


이를 해결하는 알고리즘이 바로 라운드로빈 알고리즘이다.(RR)
* 작업시간 단위를 설정해서, 해당 작업시간이 종료되면 프로세스의 완료 유무와 상관없이 바로 다음 작업을 진행하기 위해 컨텍스트 스위칭이 일어난다.
* 물론 컨텍스트 스위칭이 자주 일어나서 오버헤드가 발생하겠지만, 콘보이 현상과 기아 현상을 해결할 수 있다.